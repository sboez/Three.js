<!DOCTYPE html>
<title>My first threejs cube</title>
<script src = "http://mrdoob.github.com/three.js/build/three.min.js"></script>
<body style = 'margin : 0; display : block;'><script>

// INIT SCENE
var scene = new THREE.Scene();
var renderer = new THREE.WebGLRenderer({antialias : true});
renderer.shadowMap.enabled = true;
renderer.shadowMap.type = THREE.PCFSoftShadowMap;
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// CAMERA
var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 5000);
scene.add(camera);
camera.position.z = 350;
camera.position.y = 200;
camera.rotation.x = -30 * Math.PI / 180;

// LIGHT 
var ambientLight = new THREE.AmbientLight(0xffffff, 0.2);
scene.add(ambientLight);

var spotLight = new THREE.SpotLight(0xffffff, 1.5, 5000, 35 * Math.PI / 180);
spotLight.position.set(250, 350, 50);
spotLight.castShadow = true;
scene.add(spotLight);

// CUBE
var cubeMaterial = new THREE.MeshPhongMaterial({color: 0xfff999, vertexColors: THREE.VertexColors});
var color, face, numberOfSides, vertexIndex;
var faceIndices = ['a', 'b', 'c', 'd'];
var size = 80;
var point;
var cubeGeometry = new THREE.CubeGeometry(size, size, size);
cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
cube.position.set(0, 0, 0);
cube.receiveShadow = true;
cube.castShadow = true;
scene.add(cube);

// COLOR CUBE
for (var i = 0; i < cubeGeometry.faces.length; i++)
{
	var face = cubeGeometry.faces[i];
	numberOfSides = (face instanceof THREE.Face3) ? 3 : 4;

	for(var j = 0; j < numberOfSides; j++)
	{
		vertexIndex = face[faceIndices[j]];
		point = cubeGeometry.vertices[vertexIndex];
		color = new THREE.Color(0xffffff);
		color.setRGB(0.6 + point.x / size, 0.6 + point.y / size, 0.6 + point.z / size);
		face.vertexColors[j] = color;
	}
}

// FLOOR
var floorMaterial = new THREE.MeshBasicMaterial({color : 0xd3d3d3});
var floorMaterial = new THREE.MeshLambertMaterial({color : 0xd3d3d3, side : THREE.DoubleSide});
var floorGeometry = new THREE.PlaneGeometry(600, 300, 1, 1);
var floor = new THREE.Mesh(floorGeometry, floorMaterial);
floor.position.y = -160 ;
floor.rotation.x -= Math.PI / 2;
floor.receiveShadow = true;
scene.add(floor);

// ANIMATION
function animate() 
{
	requestAnimationFrame(animate);
	renderer.render(scene, camera);
	cube.rotation.x += 0.01;
 	cube.rotation.y += 0.01;
}

animate(); 

</script></body>